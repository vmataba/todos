<div class="container mt-5">
  <h1 class="text-center">Login</h1>
  <form [formGroup]="form" (ngSubmit)="login()">
    <div class="form-group">
      <label>Username</label>
      <input formControlName="username"
             type="text"
             class="form-control"
             [class.is-invalid]="username?.touched && username?.hasError('required')"/>
      <small class="text-danger" *ngIf="username?.touched && username?.hasError('required')">
        Username is required
      </small>
    </div>
    <div class="form-group">
      <label>Password</label>
      <input formControlName="password"
             type="password"
             class="form-control"
             [class.is-invalid]="password?.touched && password?.hasError('required')"/>
      <div class="errors">
        <small class="text-danger" *ngIf="password?.touched && password?.hasError('required')">
          Password is required
        </small>
      </div>
    </div>
    <div class="form-group" *ngIf="loading$|async">
      <div class="loader">Loading ....</div>
    </div>

    <div class="alert alert-danger mt-2" *ngIf="errorMessage$ | async as errorMessage">{{errorMessage}}</div>

    <div class="form-group mt-2 text-right">
      <button class="btn btn-sm btn-primary" [class.disabled]="form.invalid">
        Login
      </button>
    </div>
  </form>
</div>
